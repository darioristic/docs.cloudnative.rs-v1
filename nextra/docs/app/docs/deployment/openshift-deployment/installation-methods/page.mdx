# Installation Methods

Comprehensive guide to different OpenShift installation methods and approaches.

## Overview

OpenShift provides multiple installation methods to accommodate different infrastructure requirements and deployment scenarios. This section covers IPI (Installer Provisioned Infrastructure), UPI (User Provisioned Infrastructure), and Bare Metal installation approaches.

## IPI (Installer Provisioned Infrastructure)

### Overview
IPI automates the entire infrastructure setup process on supported cloud providers, making it the recommended approach for new cloud deployments where automation is preferred.

### Supported Platforms
- **Amazon Web Services (AWS)**
  - Full automation of VPC, subnets, and security groups
  - Automatic load balancer configuration
  - Integrated with AWS services and monitoring

- **Microsoft Azure**
  - Automated resource group and virtual network setup
  - Azure Load Balancer configuration
  - Integration with Azure Active Directory

- **Google Cloud Platform (GCP)**
  - Automated VPC and subnet creation
  - Google Cloud Load Balancer setup
  - Integration with Google Cloud services

### IPI Installation Process
1. **Prerequisites**
   - Valid cloud provider account and credentials
   - Sufficient quotas and permissions
   - DNS zone configuration

2. **Installation Steps**
   - Download OpenShift installer
   - Create installation configuration file
   - Run installer with cloud provider credentials
   - Monitor installation progress

3. **Post-Installation**
   - Access cluster via web console
   - Configure additional components
   - Set up monitoring and logging

### IPI Configuration Example
```yaml
apiVersion: v1
baseDomain: example.com
metadata:
  name: openshift-cluster
platform:
  aws:
    region: us-west-2
    subnets:
    - subnet-12345678
    - subnet-87654321
pullSecret: '{"auths":{"cloud.openshift.com":{"auth":"..."}}}'
sshKey: ssh-rsa AAAAB3NzaC1yc2E...
```

## UPI (User Provisioned Infrastructure)

### Overview
UPI provides full control over infrastructure setup, making it ideal for advanced or on-premises environments where custom configurations are required.

### Infrastructure Requirements
- **Load Balancers**
  - External load balancer for API server
  - Internal load balancer for application traffic
  - Health checks and failover configuration

- **DNS Configuration**
  - Wildcard DNS for applications
  - API server endpoint resolution
  - Service discovery configuration

- **Networking**
  - Custom network topology
  - VLAN configuration
  - Security group and firewall rules

### UPI Installation Process
1. **Infrastructure Setup**
   - Provision virtual machines or physical servers
   - Configure networking and load balancers
   - Set up DNS and certificate management

2. **Bootstrap Process**
   - Deploy bootstrap node
   - Install control plane nodes
   - Configure worker nodes

3. **Cluster Initialization**
   - Complete cluster setup
   - Configure additional components
   - Validate cluster functionality

### UPI Configuration Files
- **install-config.yaml** - Main installation configuration
- **manifests/** - Custom manifests for cluster components
- **openshift/** - OpenShift-specific configurations

## Bare Metal Installation

### Overview
Bare metal installation is designed for physical servers and provides maximum control over hardware and network configuration.

### Hardware Requirements
- **Control Plane Nodes**
  - Minimum 4 CPU cores, 16 GB RAM
  - 100 GB storage per node
  - High availability: 3 nodes minimum

- **Worker Nodes**
  - Minimum 2 CPU cores, 8 GB RAM
  - 100 GB storage per node
  - Scale based on workload requirements

- **Bootstrap Node**
  - Temporary node for cluster initialization
  - Can be removed after installation
  - Same specifications as control plane

### Bare Metal Installation Process
1. **Hardware Preparation**
   - Install operating system (RHEL/CentOS)
   - Configure network interfaces
   - Set up storage and partitioning

2. **Network Configuration**
   - Configure static IP addresses
   - Set up DNS resolution
   - Configure firewall rules

3. **Installation Execution**
   - Deploy bootstrap node
   - Install control plane nodes
   - Add worker nodes to cluster

### Bare Metal Configuration
```yaml
apiVersion: v1
baseDomain: example.com
metadata:
  name: openshift-cluster
platform:
  baremetal:
    libvirtURI: qemu:///system
    apiVIP: 192.168.1.10
    ingressVIP: 192.168.1.11
    hosts:
    - name: master-0
      role: master
      bmc:
        address: ipmi://192.168.1.100
        username: admin
        password: password
```

## Installation Method Comparison

### IPI Advantages
- **Fully Automated** - Minimal manual intervention required
- **Cloud Optimized** - Leverages cloud provider services
- **Quick Deployment** - Fastest installation method
- **Integrated Services** - Built-in cloud service integration

### IPI Disadvantages
- **Cloud Only** - Limited to supported cloud providers
- **Less Control** - Limited customization options
- **Vendor Lock-in** - Tied to specific cloud provider

### UPI Advantages
- **Full Control** - Complete infrastructure customization
- **Flexible** - Works with any infrastructure
- **On-Premises** - Supports private cloud deployments
- **Customizable** - Extensive configuration options

### UPI Disadvantages
- **Complex Setup** - Requires manual infrastructure configuration
- **Time Intensive** - Longer installation process
- **Expertise Required** - Needs advanced OpenShift knowledge

### Bare Metal Advantages
- **Maximum Performance** - No virtualization overhead
- **Full Control** - Complete hardware and software control
- **Cost Effective** - No cloud provider costs
- **Security** - Complete data control and isolation

### Bare Metal Disadvantages
- **Hardware Dependent** - Requires physical server access
- **Maintenance** - Manual hardware maintenance
- **Scalability** - Limited by physical infrastructure
- **Complexity** - More complex setup and management

## Installation Decision Matrix

| Factor | IPI | UPI | Bare Metal |
|--------|-----|-----|------------|
| **Complexity** | Low | Medium | High |
| **Control** | Low | High | Maximum |
| **Automation** | High | Medium | Low |
| **Cloud Support** | Yes | Yes | No |
| **On-Premises** | No | Yes | Yes |
| **Customization** | Low | High | Maximum |
| **Time to Deploy** | Fast | Medium | Slow |

## Best Practices

### IPI Best Practices
- Use supported cloud providers
- Ensure sufficient quotas and permissions
- Configure DNS before installation
- Monitor installation progress closely

### UPI Best Practices
- Plan infrastructure thoroughly
- Test network connectivity
- Validate DNS configuration
- Follow security hardening guidelines

### Bare Metal Best Practices
- Verify hardware compatibility
- Configure network properly
- Set up monitoring and alerting
- Plan for maintenance windows

## Troubleshooting

### Common Installation Issues
- **Network Connectivity** - Verify DNS and firewall configuration
- **Resource Constraints** - Check CPU, memory, and storage
- **Certificate Issues** - Validate SSL/TLS certificates
- **Permission Problems** - Verify user permissions and quotas

### Installation Logs
- **Bootstrap Logs** - Check bootstrap node logs for issues
- **Control Plane Logs** - Monitor control plane node status
- **Worker Node Logs** - Verify worker node installation
- **Cluster Logs** - Review cluster component logs

## Next Steps

After choosing and completing installation:

1. **Proceed to Cluster Configuration** - Configure the OpenShift environment
2. **Plan Post-Installation Validation** - Prepare testing and validation procedures
3. **Set up Monitoring and Observability** - Configure monitoring and alerting

This comprehensive guide ensures you choose the right installation method for your specific requirements and infrastructure.
